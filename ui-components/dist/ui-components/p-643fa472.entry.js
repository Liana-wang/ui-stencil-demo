import{r as i,c as t,h as e,H as o,g as n}from"./p-e89055a2.js";import{r as a,a as s,b as r,d as l,e as d}from"./p-dfe0b7c4.js";const m=async i=>{const t=i;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(m))}};let p;const c=i=>{if(void 0===p){const t=void 0!==i.style.webkitAnimationName;p=void 0===i.style.animationName&&t?"-webkit-":""}return p},f=(i,t,e)=>{const o=t.startsWith("animation")?c(i):"";i.style.setProperty(o+t,e)},v=(i,t)=>{const e=t.startsWith("animation")?c(i):"";i.style.removeProperty(e+t)},u=[],h=(i=[],t)=>{if(void 0!==t){const e=Array.isArray(t)?t:[t];return[...i,...e]}return i},y=i=>{let t,e,o,n,s,r,l,d,m,p,y,b,g,w=[],x=[],D=[],A=!1,P={},k=[],$=[],E={},W=0,C=!1,T=!1,z=!0,S=!1,j=!0;const F=i,L=[],R=[],V=[],I=[],M=[],O=[],H=[],B=[],K=[],Z=[],_="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,q="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_,G=(i,t)=>((t&&t.oneTimeCallback?R:L).push({c:i,o:t}),g),J=()=>{if(q)Z.forEach((i=>{i.cancel()})),Z.length=0;else{const i=V.slice();a((()=>{i.forEach((i=>{v(i,"animation-name"),v(i,"animation-duration"),v(i,"animation-timing-function"),v(i,"animation-iteration-count"),v(i,"animation-delay"),v(i,"animation-play-state"),v(i,"animation-fill-mode"),v(i,"animation-direction")}))}))}},N=()=>{M.forEach((i=>{i&&i.parentNode&&i.parentNode.removeChild(i)})),M.length=0},Q=()=>void 0!==s?s:l?l.getFill():"both",U=()=>void 0!==m?m:void 0!==r?r:l?l.getDirection():"normal",X=()=>C?"linear":void 0!==o?o:l?l.getEasing():"linear",Y=()=>T?0:void 0!==p?p:void 0!==e?e:l?l.getDuration():0,ii=()=>void 0!==n?n:l?l.getIterations():1,ti=()=>void 0!==y?y:void 0!==t?t:l?l.getDelay():0,ei=()=>{0!==W&&(W--,0===W&&((()=>{mi(),B.forEach((i=>i())),K.forEach((i=>i()));const i=z?1:0,t=k,e=$,o=E;V.forEach((i=>{const n=i.classList;t.forEach((i=>n.add(i))),e.forEach((i=>n.remove(i)));for(const t in o)o.hasOwnProperty(t)&&f(i,t,o[t])})),L.forEach((t=>t.c(i,g))),R.forEach((t=>t.c(i,g))),R.length=0,j=!0,z&&(S=!0),z=!0})(),l&&l.animationFinish()))},oi=(t=!0)=>{(()=>{O.forEach((i=>i())),H.forEach((i=>i()));const i=x,t=D,e=P;V.forEach((o=>{const n=o.classList;i.forEach((i=>n.add(i))),t.forEach((i=>n.remove(i)));for(const i in e)e.hasOwnProperty(i)&&f(o,i,e[i])}))})(),w.length>0&&(q?(V.forEach((i=>{const t=i.animate(w,{id:F,delay:ti(),duration:Y(),easing:X(),iterations:ii(),fill:Q(),direction:U()});t.pause(),Z.push(t)})),Z.length>0&&(Z[0].onfinish=()=>{ei()})):((t=!0)=>{N();const e=((o=w).forEach((i=>{for(const t in i)if(i.hasOwnProperty(t)){const e=i[t];if("easing"===t)i["animation-timing-function"]=e,delete i[t];else{const o=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();o!==t&&(i[o]=e,delete i[t])}}})),o);var o;V.forEach((o=>{if(e.length>0){const n=((i=[])=>i.map((i=>{const t=i.offset,e=[];for(const o in i)i.hasOwnProperty(o)&&"offset"!==o&&e.push(`${o}: ${i[o]};`);return`${100*t}% { ${e.join(" ")} }`})).join(" "))(e);b=void 0!==i?i:(i=>{let t=u.indexOf(i);return t<0&&(t=u.push(i)-1),"ion-animation-"+t})(n);const s=((i,t,e)=>{const o=(i=>{const t=i.getRootNode();return t.head||t})(e),n=c(e),a=o.querySelector("#"+i);if(a)return a;const s=(e.ownerDocument||document).createElement("style");return s.id=i,s.textContent=`@${n}keyframes ${i} { ${t} } @${n}keyframes ${i}-alt { ${t} }`,o.appendChild(s),s})(b,n,o);M.push(s),f(o,"animation-duration",Y()+"ms"),f(o,"animation-timing-function",X()),f(o,"animation-delay",ti()+"ms"),f(o,"animation-fill-mode",Q()),f(o,"animation-direction",U());const r=ii()===1/0?"infinite":ii().toString();f(o,"animation-iteration-count",r),f(o,"animation-play-state","paused"),t&&f(o,"animation-name",s.id+"-alt"),a((()=>{f(o,"animation-name",s.id||null)}))}}))})(t)),A=!0},ni=i=>{if(i=Math.min(Math.max(i,0),.9999),q)Z.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+Y()*i,t.pause()}));else{const t=`-${Y()*i}ms`;V.forEach((i=>{w.length>0&&(f(i,"animation-delay",t),f(i,"animation-play-state","paused"))}))}},ai=i=>{Z.forEach((i=>{i.effect.updateTiming({delay:ti(),duration:Y(),easing:X(),iterations:ii(),fill:Q(),direction:U()})})),void 0!==i&&ni(i)},si=(i=!0,t)=>{a((()=>{V.forEach((e=>{f(e,"animation-name",b||null),f(e,"animation-duration",Y()+"ms"),f(e,"animation-timing-function",X()),f(e,"animation-delay",void 0!==t?`-${t*Y()}ms`:ti()+"ms"),f(e,"animation-fill-mode",Q()||null),f(e,"animation-direction",U()||null);const o=ii()===1/0?"infinite":ii().toString();f(e,"animation-iteration-count",o),i&&f(e,"animation-name",b+"-alt"),a((()=>{f(e,"animation-name",b||null)}))}))}))},ri=(i=!1,t=!0,e)=>(i&&I.forEach((o=>{o.update(i,t,e)})),q?ai(e):si(t,e),g),li=()=>{A&&(q?Z.forEach((i=>{i.pause()})):V.forEach((i=>{f(i,"animation-play-state","paused")})))},di=()=>{d=void 0,ei()},mi=()=>{d&&clearTimeout(d)},pi=i=>new Promise((t=>{i&&i.sync&&(T=!0,G((()=>T=!1),{oneTimeCallback:!0})),A||oi(),S&&(q?(ni(0),ai()):si(),S=!1),j&&(W=I.length+1,j=!1),G((()=>t()),{oneTimeCallback:!0}),I.forEach((i=>{i.play()})),q?(Z.forEach((i=>{i.play()})),0!==w.length&&0!==V.length||ei()):(()=>{if(mi(),a((()=>{V.forEach((i=>{w.length>0&&f(i,"animation-play-state","running")}))})),0===w.length||0===V.length)ei();else{const i=ti()||0,t=Y()||0,e=ii()||1;isFinite(e)&&(d=setTimeout(di,i+t*e+100)),(i=>{let t;const e={passive:!0},o=e=>{i===e.target&&(t&&t(),mi(),a((()=>{V.forEach((i=>{v(i,"animation-duration"),v(i,"animation-delay"),v(i,"animation-play-state")})),a(ei)})))};i&&(i.addEventListener("webkitAnimationEnd",o,e),i.addEventListener("animationend",o,e),t=()=>{i.removeEventListener("webkitAnimationEnd",o,e),i.removeEventListener("animationend",o,e)})})(V[0])}})()})),ci=(i,t)=>{const e=w[0];return void 0===e||void 0!==e.offset&&0!==e.offset?w=[{offset:0,[i]:t},...w]:e[i]=t,g};return g={parentAnimation:l,elements:V,childAnimations:I,id:F,animationFinish:ei,from:ci,to:(i,t)=>{const e=w[w.length-1];return void 0===e||void 0!==e.offset&&1!==e.offset?w=[...w,{offset:1,[i]:t}]:e[i]=t,g},fromTo:(i,t,e)=>ci(i,t).to(i,e),parent:i=>(l=i,g),play:pi,pause:()=>(I.forEach((i=>{i.pause()})),li(),g),stop:()=>{I.forEach((i=>{i.stop()})),A&&(J(),A=!1),C=!1,T=!1,j=!0,m=void 0,p=void 0,y=void 0,W=0,S=!1,z=!0},destroy:i=>(I.forEach((t=>{t.destroy(i)})),(i=>{J(),i&&N()})(i),V.length=0,I.length=0,w.length=0,L.length=0,R.length=0,A=!1,j=!0,g),keyframes:i=>(w=i,g),addAnimation:i=>{if(null!=i)if(Array.isArray(i))for(const t of i)t.parent(g),I.push(t);else i.parent(g),I.push(i);return g},addElement:i=>{if(null!=i)if(1===i.nodeType)V.push(i);else if(i.length>=0)for(let t=0;t<i.length;t++)V.push(i[t]);else console.error("Invalid addElement value");return g},update:ri,fill:i=>(s=i,ri(!0),g),direction:i=>(r=i,ri(!0),g),iterations:i=>(n=i,ri(!0),g),duration:i=>(q||0!==i||(i=1),e=i,ri(!0),g),easing:i=>(o=i,ri(!0),g),delay:i=>(t=i,ri(!0),g),getWebAnimations:()=>Z,getKeyframes:()=>w,getFill:Q,getDirection:U,getDelay:ti,getIterations:ii,getEasing:X,getDuration:Y,afterAddRead:i=>(B.push(i),g),afterAddWrite:i=>(K.push(i),g),afterClearStyles:(i=[])=>{for(const t of i)E[t]="";return g},afterStyles:(i={})=>(E=i,g),afterRemoveClass:i=>($=h($,i),g),afterAddClass:i=>(k=h(k,i),g),beforeAddRead:i=>(O.push(i),g),beforeAddWrite:i=>(H.push(i),g),beforeClearStyles:(i=[])=>{for(const t of i)P[t]="";return g},beforeStyles:(i={})=>(P=i,g),beforeRemoveClass:i=>(D=h(D,i),g),beforeAddClass:i=>(x=h(x,i),g),onFinish:G,progressStart:(i=!1,t)=>(I.forEach((e=>{e.progressStart(i,t)})),li(),C=i,A?ri(!1,!0,t):oi(),g),progressStep:i=>(I.forEach((t=>{t.progressStep(i)})),ni(i),g),progressEnd:(i,t,e)=>(C=!1,I.forEach((o=>{o.progressEnd(i,t,e)})),void 0!==e&&(p=e),S=!1,z=!0,0===i?(m="reverse"===U()?"normal":"reverse","reverse"===m&&(z=!1),q?(ri(),ni(1-t)):(y=(1-t)*Y()*-1,ri(!1,!1))):1===i&&(q?(ri(),ni(t)):(y=t*Y()*-1,ri(!1,!1))),void 0!==i&&(G((()=>{p=void 0,m=void 0,y=void 0}),{oneTimeCallback:!0}),l||pi()),g)}},b=(i,t)=>{const e=i.ownerDocument,o="rtl"===e.dir;let n="top",a=o?"right":"left";const s=i.querySelector(".popover-content"),r=s.getBoundingClientRect(),l=r.width,d=r.height,m=e.defaultView.innerWidth,p=e.defaultView.innerHeight,c=t&&t.target&&t.target.getBoundingClientRect(),f=null!=c&&"bottom"in c?c.bottom:p/2-d/2,v=c&&c.height||0,u={top:f+2,left:null!=c&&"left"in c?o?c.left-l+c.width:c.left:m/2-l/2};u.left<12?(u.left=12,a="left"):l+12+u.left>m&&(u.left=m-l-12,a="right"),f+v+d>p&&f-d>0?(u.top=f-d-v,i.className=i.className+" popover-bottom",n="bottom"):f+v+d>p&&(s.style.bottom="12px");const h=y(),b=y(),g=y(),w=y();return b.addElement(i.querySelector("ai-backdrop")).fromTo("opacity",.01,0).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),g.addElement(i.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),w.addElement(s).beforeStyles({top:u.top+"px",left:u.left+"px","transform-origin":`${n} ${a}`}).fromTo("opacity",0,1),h.addElement(i).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(100).addAnimation([b,g,w])},g=i=>{const t=y(),e=y();return e.addElement(i.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),t.addElement(i).easing("ease").duration(100).addAnimation([e])},w=class{constructor(e){i(this,e),this.didPresent=t(this,"aiPopoverDidPresent",7),this.willPresent=t(this,"aiPopoverWillPresent",7),this.willDismiss=t(this,"aiPopoverWillDismiss",7),this.didDismiss=t(this,"aiPopoverDidDismiss",7),this.presented=!1,this.backdropDismiss=!0,this.showBackdrop=!1,this.onDismiss=i=>{i.stopPropagation(),i.preventDefault(),this.dismiss()},this.onBackdropTap=()=>{this.dismiss(void 0,"backdrop")},this.onLifecycle=i=>{const t=this.usersElement,e=x[i.type];if(t&&e){const o=new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:i.detail});t.dispatchEvent(o)}},s(this.el)}async present(){if(this.presented)return;const i=this.el.querySelector(".popover-content");if(!i)throw new Error("container is undefined");const t=Object.assign(Object.assign({},this.componentProps),{popover:this.el});return this.usersElement=await(async(i,t,e,o)=>{if("string"!=typeof t&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const n="string"==typeof t?i.ownerDocument&&i.ownerDocument.createElement(t):t;return e&&e.forEach((i=>n.classList.add(i))),o&&Object.assign(n,o),i.appendChild(n),n.componentOnReady&&await n.componentOnReady(),n})(i,this.component,["popover-viewport"],t),await m(this.usersElement),r(this,b,this.event)}async dismiss(i,t){const e=await l(this,i,t,g,this.event);var o;return e&&await(o=this.usersElement,o&&o.remove(),Promise.resolve()),e}onDidDismiss(){return d(this.el,"aiPopoverDidDismiss")}onWillDismiss(){return d(this.el,"aiPopoverWillDismiss")}render(){const{onLifecycle:i}=this;return e(o,{style:{zIndex:""+(2e4+this.overlayIndex)},onAiPopoverDidPresent:i,onAiPopoverWillPresent:i,onAiPopoverWillDismiss:i,onAiPopoverDidDismiss:i,onAiDismiss:this.onDismiss,onAiBackdropTap:this.onBackdropTap},e("ai-backdrop",{tappable:this.backdropDismiss}),e("div",{class:"popover-wrapper ai-overlay-wrapper"},e("div",{class:"popover-arrow"}),e("div",{class:"popover-content"})))}get el(){return n(this)}},x={aiPopoverDidPresent:"aiViewDidEnter",aiPopoverWillPresent:"aiViewWillEnter",aiPopoverWillDismiss:"aiViewWillLeave",aiPopoverDidDismiss:"aiViewDidLeave"};w.style=".sc-ai-popover-h{position:fixed;display:-ms-flexbox;display:flex;min-width:0;min-height:0;max-width:auto;height:auto;-ms-flex-align:center;align-items:center;top:0;left:0;right:0;bottom:0;outline:none;color:#000;z-index:1001}.popover-wrapper.sc-ai-popover{z-index:10}.popover-content.sc-ai-popover{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;min-width:200px;max-width:500px;min-height:40px;max-height:500px;background:#fff;-webkit-box-shadow:0 2px 9px 1px rgba(0, 0, 0, .1);box-shadow:0 2px 9px 1px rgba(0, 0, 0, .1);border:1px solid rgba(0, 0, 0, .05);border-radius:4px;overflow-y:auto;z-index:10;opacity:0;color:#505050;-webkit-transition-delay:30ms;transition-delay:30ms}";export{w as ai_popover}