import{r as i,c as t,h as o,H as e,g as n}from"./p-2c82b12c.js";import{r as a,a as s,b as r,d as l,e as d}from"./p-7c4a2d2f.js";const c=async i=>{const t=i;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(c))}};let m;const p=i=>{if(void 0===m){const t=void 0!==i.style.webkitAnimationName;m=void 0===i.style.animationName&&t?"-webkit-":""}return m},f=(i,t,o)=>{const e=t.startsWith("animation")?p(i):"";i.style.setProperty(e+t,o)},v=(i,t)=>{const o=t.startsWith("animation")?p(i):"";i.style.removeProperty(o+t)},u=[],h=(i=[],t)=>{if(void 0!==t){const o=Array.isArray(t)?t:[t];return[...i,...o]}return i},y=i=>{let t,o,e,n,s,r,l,d,c,m,y,b,g,w=[],x=[],D=[],A=!1,P={},k=[],$=[],E={},W=0,C=!1,T=!1,z=!0,S=!1,j=!0;const F=i,L=[],R=[],V=[],I=[],M=[],O=[],H=[],B=[],K=[],Z=[],_="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,q="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_,G=(i,t)=>((t&&t.oneTimeCallback?R:L).push({c:i,o:t}),g),J=()=>{if(q)Z.forEach((i=>{i.cancel()})),Z.length=0;else{const i=V.slice();a((()=>{i.forEach((i=>{v(i,"animation-name"),v(i,"animation-duration"),v(i,"animation-timing-function"),v(i,"animation-iteration-count"),v(i,"animation-delay"),v(i,"animation-play-state"),v(i,"animation-fill-mode"),v(i,"animation-direction")}))}))}},N=()=>{M.forEach((i=>{i&&i.parentNode&&i.parentNode.removeChild(i)})),M.length=0},Q=()=>void 0!==s?s:l?l.getFill():"both",U=()=>void 0!==c?c:void 0!==r?r:l?l.getDirection():"normal",X=()=>C?"linear":void 0!==e?e:l?l.getEasing():"linear",Y=()=>T?0:void 0!==m?m:void 0!==o?o:l?l.getDuration():0,ii=()=>void 0!==n?n:l?l.getIterations():1,ti=()=>void 0!==y?y:void 0!==t?t:l?l.getDelay():0,oi=()=>{0!==W&&(W--,0===W&&((()=>{ci(),B.forEach((i=>i())),K.forEach((i=>i()));const i=z?1:0,t=k,o=$,e=E;V.forEach((i=>{const n=i.classList;t.forEach((i=>n.add(i))),o.forEach((i=>n.remove(i)));for(const t in e)e.hasOwnProperty(t)&&f(i,t,e[t])})),L.forEach((t=>t.c(i,g))),R.forEach((t=>t.c(i,g))),R.length=0,j=!0,z&&(S=!0),z=!0})(),l&&l.animationFinish()))},ei=(t=!0)=>{(()=>{O.forEach((i=>i())),H.forEach((i=>i()));const i=x,t=D,o=P;V.forEach((e=>{const n=e.classList;i.forEach((i=>n.add(i))),t.forEach((i=>n.remove(i)));for(const i in o)o.hasOwnProperty(i)&&f(e,i,o[i])}))})(),w.length>0&&(q?(V.forEach((i=>{const t=i.animate(w,{id:F,delay:ti(),duration:Y(),easing:X(),iterations:ii(),fill:Q(),direction:U()});t.pause(),Z.push(t)})),Z.length>0&&(Z[0].onfinish=()=>{oi()})):((t=!0)=>{N();const o=((e=w).forEach((i=>{for(const t in i)if(i.hasOwnProperty(t)){const o=i[t];if("easing"===t)i["animation-timing-function"]=o,delete i[t];else{const e=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();e!==t&&(i[e]=o,delete i[t])}}})),e);var e;V.forEach((e=>{if(o.length>0){const n=((i=[])=>i.map((i=>{const t=i.offset,o=[];for(const t in i)i.hasOwnProperty(t)&&"offset"!==t&&o.push(`${t}: ${i[t]};`);return`${100*t}% { ${o.join(" ")} }`})).join(" "))(o);b=void 0!==i?i:(i=>{let t=u.indexOf(i);return t<0&&(t=u.push(i)-1),"ion-animation-"+t})(n);const s=((i,t,o)=>{const e=(i=>{const t=i.getRootNode();return t.head||t})(o),n=p(o),a=e.querySelector("#"+i);if(a)return a;const s=(o.ownerDocument||document).createElement("style");return s.id=i,s.textContent=`@${n}keyframes ${i} { ${t} } @${n}keyframes ${i}-alt { ${t} }`,e.appendChild(s),s})(b,n,e);M.push(s),f(e,"animation-duration",Y()+"ms"),f(e,"animation-timing-function",X()),f(e,"animation-delay",ti()+"ms"),f(e,"animation-fill-mode",Q()),f(e,"animation-direction",U());const r=ii()===1/0?"infinite":ii().toString();f(e,"animation-iteration-count",r),f(e,"animation-play-state","paused"),t&&f(e,"animation-name",s.id+"-alt"),a((()=>{f(e,"animation-name",s.id||null)}))}}))})(t)),A=!0},ni=i=>{if(i=Math.min(Math.max(i,0),.9999),q)Z.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+Y()*i,t.pause()}));else{const t=`-${Y()*i}ms`;V.forEach((i=>{w.length>0&&(f(i,"animation-delay",t),f(i,"animation-play-state","paused"))}))}},ai=i=>{Z.forEach((i=>{i.effect.updateTiming({delay:ti(),duration:Y(),easing:X(),iterations:ii(),fill:Q(),direction:U()})})),void 0!==i&&ni(i)},si=(i=!0,t)=>{a((()=>{V.forEach((o=>{f(o,"animation-name",b||null),f(o,"animation-duration",Y()+"ms"),f(o,"animation-timing-function",X()),f(o,"animation-delay",void 0!==t?`-${t*Y()}ms`:ti()+"ms"),f(o,"animation-fill-mode",Q()||null),f(o,"animation-direction",U()||null);const e=ii()===1/0?"infinite":ii().toString();f(o,"animation-iteration-count",e),i&&f(o,"animation-name",b+"-alt"),a((()=>{f(o,"animation-name",b||null)}))}))}))},ri=(i=!1,t=!0,o)=>(i&&I.forEach((e=>{e.update(i,t,o)})),q?ai(o):si(t,o),g),li=()=>{A&&(q?Z.forEach((i=>{i.pause()})):V.forEach((i=>{f(i,"animation-play-state","paused")})))},di=()=>{d=void 0,oi()},ci=()=>{d&&clearTimeout(d)},mi=i=>new Promise((t=>{i&&i.sync&&(T=!0,G((()=>T=!1),{oneTimeCallback:!0})),A||ei(),S&&(q?(ni(0),ai()):si(),S=!1),j&&(W=I.length+1,j=!1),G((()=>t()),{oneTimeCallback:!0}),I.forEach((i=>{i.play()})),q?(Z.forEach((i=>{i.play()})),0!==w.length&&0!==V.length||oi()):(()=>{if(ci(),a((()=>{V.forEach((i=>{w.length>0&&f(i,"animation-play-state","running")}))})),0===w.length||0===V.length)oi();else{const i=ti()||0,t=Y()||0,o=ii()||1;isFinite(o)&&(d=setTimeout(di,i+t*o+100)),(i=>{let t;const o={passive:!0},e=o=>{i===o.target&&(t&&t(),ci(),a((()=>{V.forEach((i=>{v(i,"animation-duration"),v(i,"animation-delay"),v(i,"animation-play-state")})),a(oi)})))};i&&(i.addEventListener("webkitAnimationEnd",e,o),i.addEventListener("animationend",e,o),t=()=>{i.removeEventListener("webkitAnimationEnd",e,o),i.removeEventListener("animationend",e,o)})})(V[0])}})()})),pi=(i,t)=>{const o=w[0];return void 0===o||void 0!==o.offset&&0!==o.offset?w=[{offset:0,[i]:t},...w]:o[i]=t,g};return g={parentAnimation:l,elements:V,childAnimations:I,id:F,animationFinish:oi,from:pi,to:(i,t)=>{const o=w[w.length-1];return void 0===o||void 0!==o.offset&&1!==o.offset?w=[...w,{offset:1,[i]:t}]:o[i]=t,g},fromTo:(i,t,o)=>pi(i,t).to(i,o),parent:i=>(l=i,g),play:mi,pause:()=>(I.forEach((i=>{i.pause()})),li(),g),stop:()=>{I.forEach((i=>{i.stop()})),A&&(J(),A=!1),C=!1,T=!1,j=!0,c=void 0,m=void 0,y=void 0,W=0,S=!1,z=!0},destroy:i=>(I.forEach((t=>{t.destroy(i)})),(i=>{J(),i&&N()})(i),V.length=0,I.length=0,w.length=0,L.length=0,R.length=0,A=!1,j=!0,g),keyframes:i=>(w=i,g),addAnimation:i=>{if(null!=i)if(Array.isArray(i))for(const t of i)t.parent(g),I.push(t);else i.parent(g),I.push(i);return g},addElement:i=>{if(null!=i)if(1===i.nodeType)V.push(i);else if(i.length>=0)for(let t=0;t<i.length;t++)V.push(i[t]);else console.error("Invalid addElement value");return g},update:ri,fill:i=>(s=i,ri(!0),g),direction:i=>(r=i,ri(!0),g),iterations:i=>(n=i,ri(!0),g),duration:i=>(q||0!==i||(i=1),o=i,ri(!0),g),easing:i=>(e=i,ri(!0),g),delay:i=>(t=i,ri(!0),g),getWebAnimations:()=>Z,getKeyframes:()=>w,getFill:Q,getDirection:U,getDelay:ti,getIterations:ii,getEasing:X,getDuration:Y,afterAddRead:i=>(B.push(i),g),afterAddWrite:i=>(K.push(i),g),afterClearStyles:(i=[])=>{for(const t of i)E[t]="";return g},afterStyles:(i={})=>(E=i,g),afterRemoveClass:i=>($=h($,i),g),afterAddClass:i=>(k=h(k,i),g),beforeAddRead:i=>(O.push(i),g),beforeAddWrite:i=>(H.push(i),g),beforeClearStyles:(i=[])=>{for(const t of i)P[t]="";return g},beforeStyles:(i={})=>(P=i,g),beforeRemoveClass:i=>(D=h(D,i),g),beforeAddClass:i=>(x=h(x,i),g),onFinish:G,progressStart:(i=!1,t)=>(I.forEach((o=>{o.progressStart(i,t)})),li(),C=i,A?ri(!1,!0,t):ei(),g),progressStep:i=>(I.forEach((t=>{t.progressStep(i)})),ni(i),g),progressEnd:(i,t,o)=>(C=!1,I.forEach((e=>{e.progressEnd(i,t,o)})),void 0!==o&&(m=o),S=!1,z=!0,0===i?(c="reverse"===U()?"normal":"reverse","reverse"===c&&(z=!1),q?(ri(),ni(1-t)):(y=(1-t)*Y()*-1,ri(!1,!1))):1===i&&(q?(ri(),ni(t)):(y=t*Y()*-1,ri(!1,!1))),void 0!==i&&(G((()=>{m=void 0,c=void 0,y=void 0}),{oneTimeCallback:!0}),l||mi()),g)}},b=(i,t)=>{const o=i.ownerDocument,e="rtl"===o.dir;let n="top",a=e?"right":"left";const s=i.querySelector(".popover-content"),r=s.getBoundingClientRect(),l=r.width,d=r.height,c=o.defaultView.innerWidth,m=o.defaultView.innerHeight,p=t&&t.target&&t.target.getBoundingClientRect(),f=null!=p&&"bottom"in p?p.bottom:m/2-d/2,v=p&&p.height||0,u={top:f+2,left:null!=p&&"left"in p?e?p.left-l+p.width:p.left:c/2-l/2};u.left<12?(u.left=12,a="left"):l+12+u.left>c&&(u.left=c-l-12,a="right"),f+v+d>m&&f-d>0?(u.top=f-d-v,i.className=i.className+" popover-bottom",n="bottom"):f+v+d>m&&(s.style.bottom="12px");const h=y(),b=y(),g=y(),w=y();return b.addElement(i.querySelector("ai-backdrop")).fromTo("opacity",.01,.08).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),g.addElement(i.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),w.addElement(s).beforeStyles({top:u.top+"px",left:u.left+"px","transform-origin":`${n} ${a}`}).fromTo("opacity",0,1),h.addElement(i).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(100).addAnimation([b,g,w])},g=i=>{const t=y(),o=y();return o.addElement(i.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),t.addElement(i).easing("ease").duration(100).addAnimation([o])},w=class{constructor(o){i(this,o),this.didPresent=t(this,"aiPopoverDidPresent",7),this.willPresent=t(this,"aiPopoverWillPresent",7),this.willDismiss=t(this,"aiPopoverWillDismiss",7),this.didDismiss=t(this,"aiPopoverDidDismiss",7),this.presented=!1,this.backdropDismiss=!0,this.onDismiss=i=>{i.stopPropagation(),i.preventDefault(),this.dismiss()},this.onBackdropTap=()=>{this.dismiss(void 0,"backdrop")},this.onLifecycle=i=>{const t=this.usersElement,o=x[i.type];if(t&&o){const e=new CustomEvent(o,{bubbles:!1,cancelable:!1,detail:i.detail});t.dispatchEvent(e)}}}connectedCallback(){s(this.el)}async present(){if(this.presented)return;const i=this.el.querySelector(".popover-content");if(!i)throw new Error("container is undefined");const t=Object.assign(Object.assign({},this.componentProps),{popover:this.el});return this.usersElement=await(async(i,t,o,e)=>{if("string"!=typeof t&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const n="string"==typeof t?i.ownerDocument&&i.ownerDocument.createElement(t):t;return o&&o.forEach((i=>n.classList.add(i))),e&&Object.assign(n,e),i.appendChild(n),n.componentOnReady&&await n.componentOnReady(),n})(i,this.component,["popover-viewport",this.el["s-sc"]],t),await c(this.usersElement),r(this,b,this.event)}async dismiss(i,t){const o=await l(this,i,t,g,this.event);var e;return o&&await(e=this.usersElement,e&&e.remove(),Promise.resolve()),o}onDidDismiss(){return d(this.el,"aiPopoverDidDismiss")}onWillDismiss(){return d(this.el,"aiPopoverWillDismiss")}render(){const{onLifecycle:i}=this;return o(e,{style:{zIndex:""+(2e4+this.overlayIndex)},onAiPopoverDidPresent:i,onAiPopoverWillPresent:i,onAiPopoverWillDismiss:i,onAiPopoverDidDismiss:i,onAiDismiss:this.onDismiss,onAiBackdropTap:this.onBackdropTap},o("ai-backdrop",{tappable:this.backdropDismiss}),o("div",{class:"popover-wrapper ai-overlay-wrapper"},o("div",{class:"popover-arrow"}),o("div",{class:"popover-content"})))}get el(){return n(this)}},x={aiPopoverDidPresent:"aiViewDidEnter",aiPopoverWillPresent:"aiViewWillEnter",aiPopoverWillDismiss:"aiViewWillLeave",aiPopoverDidDismiss:"aiViewDidLeave"};w.style=".sc-ai-popover-h{position:fixed;display:flex;min-width:0;min-height:0;max-width:auto;height:auto;align-items:center;top:0;left:0;right:0;bottom:0;outline:none;color:#000;z-index:1001}.popover-wrapper.sc-ai-popover{z-index:10}.popover-content.sc-ai-popover{display:flex;position:absolute;flex-direction:column;min-width:200px;max-width:500px;min-height:40px;max-height:500px;background:#fff;box-shadow:0 2px 9px 1px rgba(0, 0, 0, .1);border:1px solid rgba(0, 0, 0, .05);border-radius:4px;overflow-y:auto;z-index:10;opacity:0;color:#505050;transition-delay:30ms}";export{w as ai_popover}